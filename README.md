## SFFS

* 容量

  4 GB

* 块大小

  4 KB

* block 0

  文件系统元信息

  * 块数
  * 已占用块数

* bitmap blocks

  各个块是否占用，每个 bit 对应一个 block

* index blocks

  文件首块的列表，每个 unsigned long long 对应一个文件属性块（attr block）

* data blocks

  * 属性块

    文件的元数据

    * 文件名（最长为 1023 个字符）

    * 文件类型（只支持 FT_FILE）

    * 最后一次修改时间

    * 最后一次访问时间

    * 最后一块的块号

      这是一个简单的优化，用于提高向文件末尾写入数据的速率，仅仅是为了演示时方便考虑——如果不加这个信息，每次向文件末尾写入数据时需要扫过该文件现有的全部数据块，在创建大文件时会很慢。 

    * 大小

  * 其他块

    文件的数据

## 要求

- [x] 创建
- [x] 读
- [x] 写
- [x] 截断
- [x] 删除
- [x] 维护文件元数据
- [ ] 修改文件元数据
- [ ] 空间不足的判断
  - [x] 写入时
  - [ ] 创建文件时
- [x] 维护文件系统元数据

## 注

针对实验要求而做，并没有过多考虑通用性。